{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\clair\\\\Desktop\\\\cours\\\\l3-informatique\\\\printemps\\\\Douapolis\\\\lifprojet\\\\douapolis\\\\src\\\\Connexion.js\",\n  _s = $RefreshSig$();\nimport { Container, Form, Button, Row, Col, ListGroup } from \"react-bootstrap\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useState, React } from 'react';\nimport Navigation from \"./Navigation\";\nimport { login } from \"./testAuth/AuthApi\";\n\n//Page de connexion de l'application\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Connexion() {\n  _s();\n  //Variable permettant de récupérer et utiliser les données lors d'un changement d'état\n  const [pseudo, setpseudo] = useState('');\n  const [pass, setpass] = useState('');\n  let navigate = useNavigate();\n  //Verification des données de connexion puis envoie à la page d'accueil\n  //la fonction n'est pas encore faire\n\n  async function Connect() {\n    if (pseudo !== \"\" && pass !== \"\") {\n      const response = await fetch(`http://localhost:5000/users/${pseudo}`);\n      if (!response.ok) {\n        const message = `An error has occurred: ${response.statusText}`;\n        window.alert(message);\n        return;\n      }\n      const users = await response.json();\n      if (!users) {\n        window.alert(`Record with pseudo ${pseudo} not found`);\n        return;\n      }\n      //Si les mdp correspondent\n      if (pass === users.mdp) {\n        login(pseudo);\n        navigate(`/Profil/`);\n      }\n      //sinon\n      else {\n        alert(\"Le mdp n'est pas le bon.\");\n      }\n    } else {\n      alert(\"Merci de remplir correctement le formulaire de connexion.\");\n    }\n  }\n  ;\n\n  //formulaire et titre afficher sur la page \n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"body\",\n    children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Douapolis\",\n        children: /*#__PURE__*/_jsxDEV(\"center\", {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \" DOUAPOLI$ \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Centre\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          className: \"row h-100 justify-content-center align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            xs: 5,\n            align: \"center\",\n            children: /*#__PURE__*/_jsxDEV(ListGroup, {\n              as: \"ul\",\n              children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                as: \"li\",\n                active: true,\n                children: \"Connectez vous\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                as: \"li\",\n                children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                  name: \"pseudo\",\n                  type: \"pseudo\",\n                  placeholder: \"Saisissez votre pseudo\",\n                  value: pseudo,\n                  onChange: e => setpseudo(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                as: \"li\",\n                children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                  name: \"password\",\n                  type: \"password\",\n                  placeholder: \"Saisissez un mot de passe\",\n                  value: pass,\n                  onChange: e => setpass(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                as: \"li\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  onClick: Connect,\n                  children: \" Connexion \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 5,\n            align: \"center\",\n            children: /*#__PURE__*/_jsxDEV(ListGroup, {\n              as: \"ul\",\n              children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                as: \"li\",\n                variant: \"danger\",\n                children: \"Pas encore de compte ?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                as: \"li\",\n                variant: \"secondary\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/NewCompte\",\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    type: \"submit\",\n                    variant: \"secondary\",\n                    children: \" Cr\\xE9er Un Compte \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n_s(Connexion, \"ek2tZJE5DHbhvk4xNtuFZ+4o0G8=\", false, function () {\n  return [useNavigate];\n});\n_c = Connexion;\nexport default Connexion;\nvar _c;\n$RefreshReg$(_c, \"Connexion\");","map":{"version":3,"names":["Container","Form","Button","Row","Col","ListGroup","Link","useNavigate","useState","React","Navigation","login","jsxDEV","_jsxDEV","Connexion","_s","pseudo","setpseudo","pass","setpass","navigate","Connect","response","fetch","ok","message","statusText","window","alert","users","json","mdp","className","children","fileName","_jsxFileName","lineNumber","columnNumber","xs","align","as","Item","active","Control","name","type","placeholder","value","onChange","e","target","onClick","variant","to","_c","$RefreshReg$"],"sources":["C:/Users/clair/Desktop/cours/l3-informatique/printemps/Douapolis/lifprojet/douapolis/src/Connexion.js"],"sourcesContent":["import {Container,Form,Button,Row,Col,ListGroup} from \"react-bootstrap\";\r\nimport {Link, useNavigate} from \"react-router-dom\";\r\nimport {useState, React} from 'react';\r\nimport Navigation from \"./Navigation\";\r\nimport { login } from \"./testAuth/AuthApi\";\r\n\r\n//Page de connexion de l'application\r\nfunction Connexion() {\r\n    //Variable permettant de récupérer et utiliser les données lors d'un changement d'état\r\n    const [pseudo, setpseudo] = useState(''); \r\n    const [pass, setpass] = useState('');\r\n    let navigate = useNavigate();\r\n     //Verification des données de connexion puis envoie à la page d'accueil\r\n     //la fonction n'est pas encore faire\r\n\r\n    async function Connect (){\r\n        if(pseudo !== \"\" && pass !==\"\") {\r\n            const response = await fetch(`http://localhost:5000/users/${pseudo}`);\r\n            if (!response.ok) {\r\n                const message = `An error has occurred: ${response.statusText}`;\r\n                window.alert(message);\r\n                return;\r\n            }\r\n            const users = await response.json();\r\n            if (!users) {\r\n                window.alert(`Record with pseudo ${pseudo} not found`);\r\n                return;\r\n            }\r\n            //Si les mdp correspondent\r\n            if(pass===users.mdp) {\r\n                login(pseudo);\r\n                navigate(`/Profil/`);\r\n            } \r\n            //sinon\r\n            else{\r\n                alert(\"Le mdp n'est pas le bon.\");\r\n            }\r\n        } \r\n        else{\r\n            alert(\"Merci de remplir correctement le formulaire de connexion.\");\r\n        }\r\n    };\r\n\r\n    //formulaire et titre afficher sur la page \r\n    return(\r\n        <div className=\"body\">\r\n            <Navigation/>\r\n                <Container>\r\n                    <div className=\"Douapolis\">\r\n                        <center><h1> DOUAPOLI$ </h1></center>\r\n                    </div>\r\n                    <div className=\"Centre\">                       \r\n                        <Row className=\"row h-100 justify-content-center align-items-center\">\r\n                            <Col xs={5} align='center'>\r\n                                <ListGroup as=\"ul\">\r\n                                    <ListGroup.Item as=\"li\" active>\r\n                                        Connectez vous\r\n                                    </ListGroup.Item>\r\n                                    <ListGroup.Item as=\"li\">\r\n                                        <Form.Control name=\"pseudo\" type=\"pseudo\" placeholder=\"Saisissez votre pseudo\" value={pseudo} onChange={e => setpseudo(e.target.value)}/>\r\n                                    </ListGroup.Item>\r\n                                    <ListGroup.Item as=\"li\">\r\n                                    <Form.Control name=\"password\" type=\"password\" placeholder=\"Saisissez un mot de passe\" value={pass} onChange={e => setpass(e.target.value)}/>\r\n                                    </ListGroup.Item>\r\n                                    <ListGroup.Item as=\"li\">\r\n                                        <Button type=\"submit\" onClick={Connect}> Connexion </Button>\r\n                                    </ListGroup.Item>\r\n                                </ListGroup>\r\n                            </Col>\r\n                            <Col xs={5} align='center'>\r\n                                <ListGroup as=\"ul\">\r\n                                    <ListGroup.Item as=\"li\" variant=\"danger\">\r\n                                        Pas encore de compte ?\r\n                                    </ListGroup.Item>\r\n                                    <ListGroup.Item as=\"li\" variant=\"secondary\">\r\n                                        <Link to=\"/NewCompte\">\r\n                                            <Button type=\"submit\" variant=\"secondary\"> Créer Un Compte </Button>\r\n                                        </Link>\r\n                                    </ListGroup.Item>\r\n                                </ListGroup>\r\n                            </Col>\r\n                        </Row>                 \r\n                    </div>\r\n                </Container>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Connexion"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}